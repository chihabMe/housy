"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.accountsRouter = void 0;
const express_1 = require("express");
const protected_middleware_1 = __importDefault(require("../../core/middlewares/protected.middleware"));
const zod_middleware_1 = require("../../core/middlewares/zod.middleware");
const accounts_handlers_1 = require("./accounts.handlers");
const accounts_schemas_1 = require("./accounts.schemas");
exports.accountsRouter = (0, express_1.Router)();
exports.accountsRouter.post("/", (0, zod_middleware_1.zodValidatorMiddleware)(accounts_schemas_1.registrationSchema), accounts_handlers_1.accountsRegisterHandler);
exports.accountsRouter.delete("/", protected_middleware_1.default, accounts_handlers_1.accountsDeleteHandler);
exports.accountsRouter.put("/", accounts_handlers_1.accountsUpdateProfileHandler);
exports.accountsRouter.get("/me", protected_middleware_1.default, accounts_handlers_1.accountsMeHandler);
exports.accountsRouter.post("/restore/password", accounts_handlers_1.accountsRestorePasswordHandler);
exports.accountsRouter.get("/activate/:token", accounts_handlers_1.accountsActivateHandler);
exports.accountsRouter.post("/generate-token/", (0, zod_middleware_1.zodValidatorMiddleware)(accounts_schemas_1.accountActivationSchema), accounts_handlers_1.generateAccountActivationEmailHandler);
exports.accountsRouter.get("/change/email", protected_middleware_1.default, accounts_handlers_1.accountsChangeEmailHandler);
exports.accountsRouter.post("/change/password", protected_middleware_1.default, (0, zod_middleware_1.zodValidatorMiddleware)(accounts_schemas_1.passwordChangeSchema), accounts_handlers_1.accountsChangePassword);
